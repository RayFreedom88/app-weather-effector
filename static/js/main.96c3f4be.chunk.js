(this["webpackJsonpapp-weather-effector"]=this["webpackJsonpapp-weather-effector"]||[]).push([[0],{63:function(n,e,t){"use strict";t.r(e);var i=t(1),r=t(35),c=t(25),a=t(66),o=t(10),s=t(27),l=t(36),p=t(3),b={id:42,weather:[{description:"\u043f\u0430\u0441\u043c\u0443\u0440\u043d\u043e"}],main:{temp:"",temp_min:"",temp_max:""},name:"\u041e\u0448\u0438\u0431\u043a\u0430 429"},d=function(){var n=localStorage.getItem("cities");return n?JSON.parse(n):[]},x=function(n){var e=d();return!(!e||e.indexOf(n)>-1)&&(e.push(n),localStorage.setItem("cities",JSON.stringify(e)),!0)},u=function(){localStorage.setItem("cities",JSON.stringify([]))},j=t(37),f=Object(p.createEffect)(function(){var n=Object(l.a)(Object(s.a)().mark((function n(e){var t;return Object(s.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"POST"});case 2:return t=n.sent,n.abrupt("return",t.json());case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),h=Object(p.createEvent)("\u0441\u043e\u0431\u0430\u0442\u0438\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"),g=Object(p.createEvent)("\u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0433\u043e\u0440\u043e\u0434\u043e\u0432"),m=Object(p.createEvent)("\u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0433\u043e\u0440\u043e\u0434\u0430 \u0438\u0437 $cities"),O=(Object(p.createEvent)("\u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0433\u043e\u0440\u043e\u0434\u043e\u0432"),Object(p.createStore)("https://api.openweathermap.org/data/2.5/")),w=Object(p.createStore)({}),v=Object(p.createStore)([]),k=Object(p.createStore)(!1),y=Object(p.attach)({effect:f,source:O,mapParams:function(n,e){return"".concat(e,"weather?q=").concat(n,"&lang=ru&APPID=").concat("d7bf260fb0f276e0731eb04e214d5cda")}});Object(p.sample)({clock:h,filter:function(){return!localStorage.cities},fn:function(){return"\u043c\u043e\u0441\u043a\u0432\u0430"},target:y}),Object(p.sample)({clock:h,filter:function(){return 0!==localStorage.cities},fn:function(){return d()},target:g}),Object(p.sample)({clock:f.doneData,fn:function(){return d()},target:g}),Object(j.interval)({timeout:6e4,start:h}).tick.watch((function(){var n=[];d().map((function(e){return n.push(e.name)})),u(),n.map((function(n){return y(n)}))})),w.on(f.doneData,(function(n,e){var t=d();return 0===t.length&&e.name?(x(e),e):t.find((function(n){return n.name===e.name}))?e:e.name?(x(e),e):429===e.code?(console.log("API-\u043a\u043b\u044e\u0447 OpenWeatherMap \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d \u0438\u0437-\u0437\u0430 \u043f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u0438\u044f \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u043c\u0438\u043d\u0443\u0442\u0443. \u0412 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e\u0439 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 60 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u043c\u0438\u043d\u0443\u0442\u0443! \u0417\u0430\u043c\u0435\u043d\u0438\u0442\u0435 API_KEY \u0438\u043b\u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u044c\u0442\u0441\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0434\u0435\u043d\u044c. \u0418 \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u0435 local storage, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438 \u043f\u0435\u0440\u0432\u043e\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0431\u044b\u043b\u0430 \u0434\u043e\u0432\u0430\u043b\u0435\u043d\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0441 \u043f\u043e\u0433\u043e\u0434\u043e\u0439 \u0433\u043e\u0440\u043e\u0434\u0430 \u041c\u043e\u0441\u043a\u0432\u0430 \u0438\u0431\u043e \u043a\u043d\u043e\u043f\u043a\u0443 \u0441\u0431\u0440\u043e\u0441\u0430 \u044f \u0435\u0449\u0435 \u043d\u0435 \u0443\u0441\u043f\u0435\u043b \u0434\u043e\u0434\u0435\u043b\u0430\u0442\u044c \u043b\u0438\u0431\u043e \u0442\u0430\u043a \u0437\u0430\u0434\u0443\u043c\u044b\u0432\u0430\u043b\u043e\u0441\u044c ;)"),u(),x(b),e):void 0})),v.on(g,(function(n,e){return e})).on(m,(function(n,e){var t=n.filter((function(n){return n.name!==e})),i=JSON.stringify(Object(o.a)(t));return u(),localStorage.setItem("cities",i),t})),k.on(f.pending,(function(n,e){return e}));var S,z,M,I,E,P,_,D,J,N,A,C,R,T,H,L,W,q,B,K,Y=t(5),$=t(6),F=t(65),G=Object($.b)(F.a.article)(S||(S=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 100%;\n  height: 149px;\n  background-color: #393e50;\n  border-radius: 20px;\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.2);\n"]))),Q=$.b.div(z||(z=Object(Y.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 20px;\n  border-radius: 20px;\n"]))),U=$.b.div(M||(M=Object(Y.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),V=$.b.div(I||(I=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: ",";\n  text-align: left;\n  gap: 5px;\n"])),(function(n){return n.justify||"stretch"})),X=$.b.span(E||(E=Object(Y.a)(["\n  font-size: ",";\n"])),(function(n){return n.fontSize})),Z=$.b.img(P||(P=Object(Y.a)(["\n  height: 54px;\n"]))),nn=$.b.span(_||(_=Object(Y.a)(["\n  z-index: 1;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 16px;\n  cursor: pointer;\n\n  &:focus,\n  &:hover {\n    color: #ff6053;\n  }\n"]))),en=t(2),tn=function(n){var e,t=n.city,r=(n.time,n.temperature),c=n.conditions,a=n.img,o=n.tempMax,s=n.tempMin,l=n.onDelete,p=function(n){return Math.round(n-273)},b=Object(i.useRef)(),d=function(){console.log("Click delete ",b.current.innerHTML),l(b.current.innerHTML)},x={initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0}};return"\u041e\u0448\u0438\u0431\u043a\u0430 429"===t?Object(en.jsx)(G,{variants:x,initial:"initial",animate:"animate",exit:"exit",children:Object(en.jsxs)(Q,{children:[Object(en.jsx)(U,{children:Object(en.jsxs)(V,{children:[Object(en.jsx)(X,{fontSize:"40px",ref:b,children:t}),Object(en.jsx)("p",{children:"API-\u043a\u043b\u044e\u0447 OpenWeatherMap \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d!"})]})}),Object(en.jsx)(U,{children:Object(en.jsx)(nn,{onClick:d,children:"x"})})]})}):Object(en.jsx)(G,{variants:x,initial:"initial",animate:"animate",exit:"exit",children:Object(en.jsxs)(Q,{children:[Object(en.jsxs)(U,{children:[Object(en.jsx)(V,{children:Object(en.jsx)(X,{fontSize:"18px",ref:b,children:t})}),Object(en.jsxs)(X,{fontSize:"48px",children:[p(r),"\xb0"]})]}),Object(en.jsxs)(U,{children:[Object(en.jsxs)(V,{justify:"flex-end",children:[Object(en.jsx)(X,{fontSize:"14px",children:c}),Object(en.jsxs)(X,{fontSize:"14px",children:["\u041c\u0430\u043a\u0441.: ",p(o),"\xb0, \u043c\u0438\u043d.: ",p(s),"\xb0"]})]}),Object(en.jsx)(Z,{src:(e=a,"https://openweathermap.org/img/wn/".concat(e,"@2x.png")),alt:c}),Object(en.jsx)(nn,{onClick:d,children:"x"})]})]})})},rn=t(8),cn=t.p+"static/media/preloader.1e6f5a70.gif",an=$.b.img(D||(D=Object(Y.a)(["\n  width: 24px;\n  height: 24px;\n"]))),on=function(){return Object(en.jsx)(an,{src:cn,alt:"\u0438\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})},sn=t.p+"static/media/search.52f88ab7.svg",ln=$.b.form(J||(J=Object(Y.a)(["\n  display: flex;\n  width: 100%;\n  margin: 20px auto;\n  margin-bottom: 10px;\n  padding: 0 10px;\n"]))),pn=$.b.div(N||(N=Object(Y.a)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: 24px 1fr 24px;\n  gap: 8px;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 8px 12px;\n  border: 1px solid transparent;\n  border-radius: 16px;\n  background-color: #ffffff;\n  // transition: .2s linear;\n\n  &:focus-within button {\n    background-color: #050510;\n  }\n"]))),bn=$.b.button(A||(A=Object(Y.a)(["\n  width: 24px;\n  height: 24px;\n  mask-position: center;\n  mask-repeat: no-repeat;\n  background-color: #c3c3c6;\n\n  -webkit-mask-image: url(",");\n  mask-image: url(",");\n  -webkit-mask-size: 20px;\n  -webkit-mask-position: center;\n  -webkit-mask-repeat: no-repeat;\n  cursor: pointer;\n  transition: 0.2s linear;\n"])),sn,sn),dn=$.b.input(C||(C=Object(Y.a)(["\n  width: 100%;\n  height: 20px;\n  font-size: 18px;\n  border: none;\n  outline: none;\n  background-color: transparent;\n  font-family: 'Raleway', sans-serif;\n"]))),xn=function(){var n=Object(i.useState)(""),e=Object(rn.a)(n,2),t=e[0],r=e[1],a=Object(c.a)(k);return Object(en.jsx)(ln,{onSubmit:function(n){n.preventDefault(),y(t),r("")},children:Object(en.jsxs)(pn,{children:[Object(en.jsx)(bn,{className:"search__btn","aria-label":"\u041f\u043e\u0438\u0441\u043a",title:"\u041f\u043e\u0438\u0441\u043a"}),Object(en.jsx)(dn,{type:"text",name:"city",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0433\u043e\u0440\u043e\u0434\u0430\u043c...",value:t,onChange:function(n){r(n.target.value)}}),a&&Object(en.jsx)(on,{})]})})},un=$.b.section(R||(R=Object(Y.a)(["\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.6);\n  border-radius: 20px;\n  position: fixed;\n  top: calc(50% - 675px / 2);\n  left: calc(50% - 320px / 2);\n  height: 675px;\n  width: 320px;\n  background-color: #393e5b;\n  overflow: hidden;\n  color: #ffffff;\n"]))),jn=$.b.div(T||(T=Object(Y.a)(["\n  width: 100%;\n  height: 100%;\n  box-shadow: 0 0 10px 10px rgba(0, 0, 0, 0.2) inset;\n  padding: 15px;\n"]))),fn=$.b.div(H||(H=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  width: 100%;\n  height: 100%;\n  background: inherit;\n  border-radius: 10px;\n  overflow: hidden;\n"]))),hn=$.b.h2(L||(L=Object(Y.a)(["\n  margin: 0 10px;\n  margin-top: 20px;\n  text-align: left;\n"]))),gn=$.b.div(W||(W=Object(Y.a)(["\n  width: 100%;\n  height: 493px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  padding-right: 5px;\n  padding-left: 10px;\n"]))),mn=Object($.b)(F.a.div)(q||(q=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  width: 270px;\n  height: 100%;\n  background: inherit;\n"]))),On=function(){var n=Object(c.a)(v);return Object(en.jsx)(un,{children:Object(en.jsx)(jn,{children:Object(en.jsxs)(fn,{children:[Object(en.jsx)(hn,{children:"\u041f\u043e\u0433\u043e\u0434\u0430"}),Object(en.jsx)(xn,{}),Object(en.jsx)(gn,{children:Object(en.jsxs)(mn,{children:[Object(en.jsx)(a.a,{children:n.length>0&&n.map((function(n){return Object(en.jsx)(tn,{city:n.name,temperature:n.main.temp,conditions:n.weather[0].description,img:n.weather[0].icon,tempMax:n.main.temp_max,tempMin:n.main.temp_min,onDelete:m},n.id)}))}),0===n.length&&Object(en.jsx)("p",{children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"})]})})]})})})},wn=$.b.div(B||(B=Object(Y.a)(["\n  text-align: center;\n  background-image: url(https://wallpaperaccess.com/full/2629319.png);\n  background-size: cover;\n  min-height: 100vh;\n"]))),vn=function(){return Object(en.jsx)(wn,{children:Object(en.jsxs)("main",{children:[Object(en.jsx)("h1",{className:"visually-hidden",children:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043f\u043e\u0433\u043e\u0434\u044b"}),Object(en.jsx)(On,{})]})})},kn=Object($.a)(K||(K=Object(Y.a)(['\n  *,\n  *::before,\n  *::after {\n    box-sizing: inherit;\n  }\n\n  html {\n    box-sizing: border-box;\n  }\n\n  body {\n    margin: 0;\n    font-family: "Raleway", sans-serif;\n  }\n\n  ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n  }\n\n  a {\n    text-decoration: none;\n    color: #000;\n  }\n\n  .visually-hidden {\n    position: absolute;\n\n    width: 1px;\n    height: 1px;\n    margin: -1px;\n    border: 0;\n    padding: 0;\n\n    white-space: nowrap;\n\n    clip-path: inset(100%);\n    clip: rect(0 0 0 0);\n    overflow: hidden;\n  }\n\n  ::-webkit-scrollbar {\n    width: 5px;\n    height: 12px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: #2f2f37;\n    border-radius: 5px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: #ff6053;\n    border-radius: 5px;\n  }\n\n  ::-webkit-scrollbar-corner {\n    background: transparent;\n  }\n\n  .weather-scroll-wrap {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    width: 270px;\n    height: 100%;\n    background: inherit;\n  }\n']))),yn=document.getElementById("root"),Sn=Object(r.createRoot)(yn);h(),Sn.render(Object(en.jsxs)(i.StrictMode,{children:[Object(en.jsx)(kn,{}),Object(en.jsx)(vn,{})]}))}},[[63,1,2]]]);
//# sourceMappingURL=main.96c3f4be.chunk.js.map